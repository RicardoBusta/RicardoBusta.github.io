<!-- Hiposcript by Ricardo Bustamante! ricardobqueiroz@gmail.com -->

<html>
	<head>
		<title>HipoScript</title>
		<style>
			#outerdiv{
				width: 100%;
				height: 100%;
				vertical-align: center;
				position: relative;
			}
			#centerdiv{
				left: 10%;
				right: 10%;
				top: 10%;
				bottom: 10%;
				position: absolute;
			}
			#my_input{
				width: 100%;
			}
			.hipoclass{
				color: #f00;
			}
		</style>
		<script>
			function cleanArray(actual){
			  var newArray = new Array();
			  for(var i = 0; i<actual.length; i++){
			      if (actual[i]){
			        newArray.push(actual[i]);
			    }
			  }
			  return newArray;
			}
			function contains(list, obj) {
				for(i=0; i<list.length; i++){
					alert("comparing "+i+" "+obj);
					if(i===obj){
						return true;
					}
				}
				return false;
			}
			function test(){
				document.getElementById("list_items").innerHTML=generateTexts(document.getElementById("my_input").value);
			}
			
			ignore_elements = ["a","o","da","do","e","ou","mas","de","das","em"];
			
			function generateTexts(text_input){
				text_clean = cleanArray(text_input.split(" "));
				text_count = text_clean.length;
				
				ret_text = "";
				for(i=0;i<text_count;i++){
					if( ignore_elements.indexOf(text_clean[i]) > -1 ){
						continue;
					}
					phrase = "";
					for(j=0;j<text_count; j++){
						if(i!=j){
							phrase += text_clean[j];
						}else{
							hipo_word = "hipop&oacute;tamo";
							if(j==0){
								hipo_word = hipo_word.charAt(0).toUpperCase() + hipo_word.slice(1); 
							}
							phrase += "<span class='hipoclass'>"+hipo_word+"</span>";
						}
						if(j!=text_count-1){
							phrase+=" ";
						}
					}
					//phrase = phrase.toLowerCase();
					//phrase = phrase.charAt(0).toUpperCase() + phrase.slice(1);
					ret_text += "<li>" + phrase + "</li>";
				}
				return ret_text;
			}
		</script>
	</head>
	<body>
		<div id="outerdiv">
			<div id="centerdiv">
				<center><img style="width=300px;" src="hipo.jpg" /></center>
				<p>Digite aqui a frase a ser hipopotizada:</p>
				<input id="my_input" onkeyup="test()"/>
				<p>Results:</p>
				<ul id="list_items">
					
				</ul>
			</div>
		</div>
	</body>
</html>